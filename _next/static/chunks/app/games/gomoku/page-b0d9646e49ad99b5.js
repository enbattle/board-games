(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13],{1433:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,8173,23)),Promise.resolve().then(r.bind(r,6582)),Promise.resolve().then(r.bind(r,2372)),Promise.resolve().then(r.bind(r,4227))},1567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var n=r(3463),l=r(9795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,n.$)(t))}},2372:(e,t,r)=>{"use strict";r.d(t,{GameRules:()=>m});var n=r(5155),l=r(2115),a=r(5217),s=r(1719),i=r(1567);let o=a.bL,c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,n.jsx)(a.q7,{ref:t,className:(0,i.cn)("border-b",r),...l})});c.displayName="AccordionItem";let d=l.forwardRef((e,t)=>{let{className:r,children:l,...o}=e;return(0,n.jsx)(a.Y9,{className:"flex",children:(0,n.jsxs)(a.l9,{ref:t,className:(0,i.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",r),...o,children:[l,(0,n.jsx)(s.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});d.displayName="AccordionTrigger";let u=l.forwardRef((e,t)=>{let{className:r,children:l,...s}=e;return(0,n.jsx)(a.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:(0,n.jsx)("div",{className:(0,i.cn)("pb-4 pt-0",r),children:l})})});function m(e){let{sections:t}=e;return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"bg-[#B5411E] mb-4 p-4 rounded-t-lg",children:(0,n.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Game Rules"})}),(0,n.jsx)(o,{type:"single",collapsible:!0,className:"w-full",children:t.map((e,t)=>(0,n.jsxs)(c,{value:"item-".concat(t),children:[(0,n.jsx)(d,{className:"text-lg font-medium",children:e.title}),(0,n.jsx)(u,{className:"text-muted-foreground",children:e.content})]},t))})]})}u.displayName="AccordionContent"},3312:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var n=r(5155),l=r(2115),a=r(2317),s=r(1027),i=r(1567);let o=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:r,variant:l,size:s,asChild:c=!1,...d}=e,u=c?a.DX:"button";return(0,n.jsx)(u,{className:(0,i.cn)(o({variant:l,size:s,className:r})),ref:t,...d})});c.displayName="Button"},4227:(e,t,r)=>{"use strict";r.d(t,{GomokuGame:()=>w});var n=r(5155),l=r(2115),a=r(3312),s=r(6046),i=r(7113),o=function(e){return e.BLACK="black",e.WHITE="white",e}({});function c(e){let{board:t,onCellClick:r,winningLine:l,lastMove:a}=e,{theme:s}=(0,i.D)(),c="dark"===s,d=t.length,u=(d+1)*30,m=(e,t)=>({x:(t+1)*30,y:(e+1)*30}),f=(e,t)=>l.some(r=>r.row===e&&r.col===t),x=(e,t)=>a&&a.row===e&&a.col===t;return(0,n.jsxs)("div",{className:"relative",style:{width:"".concat(u,"px"),height:"".concat(u,"px")},children:[(0,n.jsxs)("svg",{width:u,height:u,viewBox:"0 0 ".concat(u," ").concat(u),className:"absolute inset-0",children:[(0,n.jsx)("rect",{x:"0",y:"0",width:u,height:u,fill:c?"#2c2c2c":"#e6c88f",rx:"8"}),Array.from({length:d}).map((e,t)=>{let{y:r}=m(t,0);return(0,n.jsx)("line",{x1:30,y1:r,x2:u-30,y2:r,stroke:c?"#666":"#333",strokeWidth:"1"},"h-".concat(t))}),Array.from({length:d}).map((e,t)=>{let{x:r}=m(0,t);return(0,n.jsx)("line",{x1:r,y1:30,x2:r,y2:u-30,stroke:c?"#666":"#333",strokeWidth:"1"},"v-".concat(t))}),[3,7,11].map(e=>[3,7,11].map(t=>{let{x:r,y:l}=m(e,t);return(0,n.jsx)("circle",{cx:r,cy:l,r:"3",fill:c?"#666":"#333"},"star-".concat(e,"-").concat(t))}))]}),(0,n.jsx)("div",{className:"absolute inset-0",children:t.map((e,t)=>e.map((e,r)=>{if(null===e)return null;let{x:l,y:a}=m(t,r),s=f(t,r),i=x(t,r);return(0,n.jsx)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 rounded-full shadow-md transition-all ".concat(e===o.BLACK?"bg-gray-900 border border-gray-700":"bg-white border border-gray-300"," ").concat(s?"ring-2 ring-red-500":""," ").concat(i?"ring-2 ring-blue-500":""),style:{left:"".concat(l,"px"),top:"".concat(a,"px"),width:"".concat(27,"px"),height:"".concat(27,"px")}},"stone-".concat(t,"-").concat(r))}))}),(0,n.jsx)("div",{className:"absolute inset-0",children:t.map((e,t)=>e.map((e,l)=>{let{x:a,y:s}=m(t,l);return(0,n.jsx)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer",style:{left:"".concat(a,"px"),top:"".concat(s,"px"),width:"".concat(30,"px"),height:"".concat(30,"px")},onClick:()=>r(t,l)},"cell-".concat(t,"-").concat(l))}))})]})}var d=r(9749);function u(e){let{gameState:t,mode:r,isAIThinking:l}=e;return(0,n.jsxs)(d.Zp,{children:[(0,n.jsxs)(d.aR,{children:[(0,n.jsx)(d.ZB,{children:"Game Status"}),(0,n.jsx)(d.BT,{children:"Connect five stones in a row to win"})]}),(0,n.jsx)(d.Wu,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"h-4 w-4 rounded-full bg-gray-900 border border-gray-700"}),(0,n.jsxs)("span",{className:"font-medium",children:["Black ","ai"===r?"(You)":"(Player 1)"]})]}),(0,n.jsxs)("div",{className:"text-sm",children:["Moves:"," ",t.moveHistory.filter(e=>e.player===o.BLACK).length]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"h-4 w-4 rounded-full bg-white border border-gray-300"}),(0,n.jsxs)("span",{className:"font-medium",children:["White ","ai"===r?"(AI)":"(Player 2)"]})]}),(0,n.jsxs)("div",{className:"text-sm",children:["Moves:"," ",t.moveHistory.filter(e=>e.player===o.WHITE).length]})]})]}),(0,n.jsx)("div",{className:"rounded-md p-3 text-center font-medium ".concat(t.winner?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":l?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100"),children:t.winner?"ai"===r?"".concat(t.winner===o.BLACK?"Black (You)":"White (AI)"," wins!"):"".concat(t.winner===o.BLACK?"Black":"White"," wins!"):l?"AI is thinking...":"ai"===r?"".concat(t.currentPlayer===o.BLACK?"Black (You)":"White (AI)","'s turn to play."):"".concat(t.currentPlayer===o.BLACK?"Black":"White","'s turn to play.")})]})})]})}let m={WIN:1e6,OPEN_FOUR:5e4,FOUR:1e4,OPEN_THREE:5e3,THREE:1e3,OPEN_TWO:100,POSITION_VALUE:5},f=Array(15).fill(0).map((e,t)=>Array(15).fill(0).map((e,r)=>Math.max(8-Math.max(Math.abs(7-t),Math.abs(7-r)),1))),x=[[1,0],[0,1],[1,1],[1,-1]],h={FIVE:"11111",OPEN_FOUR:"011110",FOUR:["011112","211110"],OPEN_THREE:"01110",THREE:["11100","00111","10110","01101"],OPEN_TWO:"00110"};function g(e,t){return e>=0&&e<15&&t>=0&&t<15}function p(e,t,r,n){for(let[l,a]of x){let s=[];for(let i=-4;i<=4;i++){let o=t+i*l,c=r+i*a;if(g(o,c)&&e[o][c]===n){if(s.push({row:o,col:c}),5===s.length)return{winner:n,winningLine:s}}else s.length=0}}return{winner:null,winningLine:[]}}function b(e,t,r){let n=0;for(let[l,a]of x){let s=function(e,t,r,n,l){let a="",s=e[t][r];if(!s)return"";let[i,o]=n,c=t-4*i,d=r-4*o;for(let t=0;t<9;t++){if(g(c,d)){let t=e[c][d];t===s?a+="1":null===t?a+="0":a+="2"}else a+="2";c+=i,d+=o}return a}(e,t,r,[l,a],0);s.includes(h.FIVE)?n+=m.WIN:s.includes(h.OPEN_FOUR)?n+=m.OPEN_FOUR:h.FOUR.some(e=>s.includes(e))?n+=m.FOUR:s.includes(h.OPEN_THREE)?n+=m.OPEN_THREE:h.THREE.some(e=>s.includes(e))?n+=m.THREE:s.includes(h.OPEN_TWO)&&(n+=m.OPEN_TWO),s.replace(/1/g,"3").replace(/2/g,"1").replace(/3/g,"2").includes(h.OPEN_FOUR)&&(n-=1.2*m.OPEN_FOUR)}return n}function v(e,t){let r=0,n=t===o.BLACK?o.WHITE:o.BLACK;for(let l=0;l<15;l++)for(let a=0;a<15;a++)e[l][a]===t?(r+=b(e,l,a),r+=m.POSITION_VALUE*f[l][a]):e[l][a]===n&&(r-=b(e,l,a),r-=m.POSITION_VALUE*f[l][a]);return r}function N(e){let t=[],r=new Set;for(let n=0;n<15;n++)for(let l=0;l<15;l++)if(null!==e[n][l])for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++){let i=n+a,o=l+s,c="".concat(i,",").concat(o);g(i,o)&&null===e[i][o]&&!r.has(c)&&(t.push({row:i,col:o}),r.add(c))}if(0===t.length){let e=Math.floor(7.5);t.push({row:e,col:e})}return t}var y=r(4505);let j={board:Array(15).fill(null).map(()=>Array(15).fill(null)),currentPlayer:o.BLACK,winner:null,winningLine:[],moveHistory:[]};function w(){let e=(0,s.useSearchParams)().get("mode")||"pvp",[t,r]=(0,l.useState)(!1),[i,d]=(0,l.useState)(j);(0,l.useEffect)(()=>{m()},[e]);let m=()=>{d({...j,currentPlayer:o.BLACK})},f=(0,l.useCallback)((r,n)=>{if(i.winner||null!==i.board[r][n]||"ai"===e&&i.currentPlayer===o.WHITE||t)return;let l=i.board.map(e=>[...e]);l[r][n]=i.currentPlayer;let a=[...i.moveHistory,{row:r,col:n,player:i.currentPlayer}],{winner:s,winningLine:c}=p(l,r,n,i.currentPlayer);d({board:l,currentPlayer:i.currentPlayer===o.BLACK?o.WHITE:o.BLACK,winner:s,winningLine:c,moveHistory:a})},[i,t,e]);return(0,l.useEffect)(()=>{if("ai"===e&&i.currentPlayer===o.WHITE&&!i.winner){r(!0);let e=setTimeout(()=>{let{row:e,col:t}=function(e){let{move:t}=function e(t,r,n,l,a,s){let i;if(s){let{winner:e}=p(t,s.row,s.col,a?o.WHITE:o.BLACK);if(e)return{score:e===o.BLACK?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY}}if(0===r)return{score:v(t,o.BLACK)};let c=N(t);if(0===c.length)return{score:0};let d=c.map(e=>{let{row:r,col:n}=e;t[r][n]=a?o.BLACK:o.WHITE;let l=v(t,a?o.BLACK:o.WHITE);return t[r][n]=null,{...e,score:l}});d.sort((e,t)=>a?t.score-e.score:e.score-t.score);let u=a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;for(let{row:s,col:c}of d){t[s][c]=a?o.BLACK:o.WHITE;let d=e(t,r-1,n,l,!a,{row:s,col:c}).score;if(t[s][c]=null,a?(d>u&&(u=d,i={row:s,col:c}),n=Math.max(n,d)):(d<u&&(u=d,i={row:s,col:c}),l=Math.min(l,d)),l<=n)break}return{score:u,move:i}}(e,4,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,!0,null);return t||N(e)[0]}(i.board),n=i.board.map(e=>[...e]);n[e][t]=o.WHITE;let l=[...i.moveHistory,{row:e,col:t,player:o.WHITE}],{winner:a,winningLine:s}=p(n,e,t,o.WHITE);d({board:n,currentPlayer:o.BLACK,winner:a,winningLine:s,moveHistory:l}),r(!1)},1e3);return()=>clearTimeout(e)}},[i,e]),(0,n.jsxs)("div",{className:"flex flex-col items-center lg:flex-row lg:items-start lg:gap-8",children:[(0,n.jsxs)("div",{className:"mb-8 w-full max-w-md lg:mb-0",children:[(0,n.jsx)(u,{gameState:i,mode:e,isAIThinking:t}),(0,n.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,n.jsx)(a.$,{onClick:m,variant:"outline",disabled:t,children:"Reset Game"}),(0,n.jsx)(a.$,{onClick:()=>{if(0===i.moveHistory.length||t)return;let r=[...i.moveHistory],n=r.pop();if(!n)return;let l=i.board.map(e=>[...e]);if(l[n.row][n.col]=null,"ai"===e&&r.length>0&&null===i.winner){let e=r.pop();e&&(l[e.row][e.col]=null)}d({board:l,currentPlayer:"ai"===e?o.BLACK:n.player,winner:null,winningLine:[],moveHistory:r})},variant:"outline",disabled:0===i.moveHistory.length||t,children:"Undo Move"})]})]}),(0,n.jsxs)("div",{className:"flex-1 flex items-center justify-center",children:[t&&(0,n.jsxs)("div",{className:"absolute z-10 bg-background/80 rounded-lg p-4 flex items-center gap-2",children:[(0,n.jsx)(y.A,{className:"h-4 w-4 animate-spin"}),(0,n.jsx)("span",{children:"AI is thinking..."})]}),(0,n.jsx)(c,{board:i.board,onCellClick:f,winningLine:i.winningLine,lastMove:i.moveHistory.length>0?i.moveHistory[i.moveHistory.length-1]:null})]})]})}},6582:(e,t,r)=>{"use strict";r.d(t,{GameModeSelector:()=>u});var n=r(5155),l=r(6046);r(2115);var a=r(8629),s=r(1567);function i(e){let{className:t,...r}=e;return(0,n.jsx)(a.bL,{"data-slot":"tabs",className:(0,s.cn)("flex flex-col gap-2",t),...r})}function o(e){let{className:t,...r}=e;return(0,n.jsx)(a.B8,{"data-slot":"tabs-list",className:(0,s.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)(a.l9,{"data-slot":"tabs-trigger",className:(0,s.cn)("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex items-center justify-center gap-2 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function d(e){let{className:t,...r}=e;return(0,n.jsx)(a.UC,{"data-slot":"tabs-content",className:(0,s.cn)("flex-1 outline-none",t),...r})}function u(e){let{modes:t}=e,r=(0,l.useRouter)(),a=(0,l.usePathname)(),s=(0,l.useSearchParams)(),u=s.get("mode")||"pvp";return(0,n.jsxs)(i,{defaultValue:u,className:"w-full",onValueChange:e=>{let t=new URLSearchParams(s);t.set("mode",e),r.push("".concat(a,"?").concat(t.toString()))},children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Game Mode"}),(0,n.jsx)(o,{children:t.map(e=>(0,n.jsx)(c,{value:e.id,children:e.name},e.id))})]}),t.map(e=>(0,n.jsx)(d,{value:e.id,className:"mt-4",children:(0,n.jsx)("div",{className:"rounded-lg border p-4",children:(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"pvp"===e.id?"Play against a friend on the same device":"Challenge our AI opponent"})})},e.id))]})}},9749:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>a,aR:()=>s});var n=r(5155);r(2115);var l=r(1567);function a(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function s(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("flex flex-col gap-1.5 px-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-semibold",t),...r})}function o(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,l.cn)("text-muted-foreground text-sm",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",t),...r})}}},e=>{var t=t=>e(e.s=t);e.O(0,[812,180,441,587,358],()=>t(1433)),_N_E=e.O()}]);